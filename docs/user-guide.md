# StopMotion Collaborator ユーザーガイド

## 📱 アプリについて

StopMotion Collaborator は、複数人での協働ストップモーションアニメーション制作を効率化するWebアプリケーションです。スマートフォンの横画面での使用を想定しています。

## 🚀 はじめ方

### 1. アプリへのアクセス

- **GitHub Pages**: https://bob-takuya.github.io/koma-mobile/
- スマートフォンのブラウザで上記URLにアクセス
- 横画面（ランドスケープモード）に回転させてください

### 2. 初期設定

1. **APIキーの入力**

   - アプリ起動時に表示される入力画面
   - AWS S3のアクセスキーを入力
   - 「Set Up Project」をクリック

2. **プロジェクトIDの指定**
   - 作業するプロジェクトのIDを入力
   - 例：`my-animation-project-2024`

### 3. カメラ権限の許可

- ブラウザからカメラアクセス許可を求められます
- 「許可」を選択してください
- HTTPS接続が必要です（GitHub Pagesは自動的にHTTPS）

## 🎬 基本的な使い方

### カメラ画面の操作

#### 画面構成

- **メイン画面**: カメラプレビューまたは撮影済み画像
- **ボトムパネル**: 各種コントロール（透明）
- **右下**: フレームのメモ（note）表示

#### フレーム選択

- **フレームスライダー**: 0〜最大フレーム数の範囲で自由移動
- 現在のフレーム番号が表示されます

#### オニオンスキン機能

- 前のフレームを半透明で重ね表示
- スライダーで表示フレーム数を調整（0〜5フレーム）
- 撮影時の参考として使用

### 撮影の流れ

1. **フレーム選択**

   - スライダーで撮影したいフレームを選択
   - 未撮影フレームの場合、カメラが起動

2. **撮影**

   - 「Capture」ボタンで撮影
   - 自動的にWebP形式で保存

3. **同期**
   - 「Sync」ボタンで撮影データをクラウドにアップロード
   - 撮影した画像がS3に保存されます

### 撮影済みフレームの操作

- **表示**: 撮影済みフレームを選択すると画像が表示
- **ダウンロード**: 「Download」ボタンで端末に保存
- **上書き**: 「Overwrite」ボタンで再撮影

## 👥 協働での使用方法

### フレーム分担

事前にメンバー間でフレーム分担を決めておくことを推奨：

```
メンバーA: フレーム 0-7 (シーン1)
メンバーB: フレーム 8-15 (シーン2)
メンバーC: フレーム 16-23 (シーン3)
```

### 同期のタイミング

- 撮影後は必ず「Sync」を実行
- 他のメンバーが撮影したフレームを確認するため定期的にリロード
- 同じフレームの同時編集は避ける

### プロジェクト管理者の作業

1. **プロジェクト作成**

   - S3バケットにプロジェクトフォルダを作成
   - config.jsonを設定

2. **メンバーへの共有**
   - プロジェクトIDを共有
   - 必要に応じてAPIキーを配布

## 🔧 トラブルシューティング

### カメラが起動しない

- ブラウザの権限設定を確認
- HTTPS接続であることを確認
- 他のアプリがカメラを使用していないか確認

### 画像がアップロードできない

- インターネット接続を確認
- APIキーの有効性を確認
- S3の権限設定を確認

### フレームが表示されない

- プロジェクトIDが正しいか確認
- 他のメンバーが実際に撮影済みか確認
- ブラウザのキャッシュをクリア

### アプリが重い・動作が遅い

- ブラウザのキャッシュをクリア
- 不要なタブを閉じる
- 端末の再起動

## 📊 技術的な詳細

### ファイル形式

- **画像**: WebP形式（高圧縮・高品質）
- **設定**: JSON形式（config.json）

### ファイル名規則

- フレーム画像: `frame_0000.webp`, `frame_0001.webp`, ...
- 4桁のゼロパディング

### キャッシュ仕様

- 設定ファイル: 60秒キャッシュ
- 画像ファイル: 1時間キャッシュ

## 🛡️ セキュリティとプライバシー

### データの保存場所

- 撮影画像: AWS S3（プライベートバケット）
- APIキー: ブラウザのローカルストレージ
- アプリコード: GitHub Pages（静的ホスティング）

### プライバシー保護

- 撮影データは指定されたS3バケットのみに保存
- APIキーはブラウザ内でのみ保持
- 第三者サービスへのデータ送信なし

## 📞 サポート

### よくある質問

上記のトラブルシューティングを参照

### 技術サポート

- GitHub Issues: プロジェクトリポジトリで問題を報告
- ドキュメント: README.mdで詳細な技術情報を確認

### 機能要望

- GitHub Issues で機能要望を提出
- プルリクエストによる貢献も歓迎
