# 📱 コマ撮りアプリ - セットアップガイド

## 開発環境セットアップ

### 必要な環境

- Node.js 18以上
- npm または yarn
- AWS S3バケット（CORS設定済み）

### インストール手順

1. **依存関係のインストール**

   ```bash
   npm install
   ```

2. **開発サーバーの起動**

   ```bash
   npm run dev
   ```

3. **ブラウザでアクセス**
   - ローカル: http://localhost:5174
   - モバイルでテストする場合は、同じネットワーク内のIPアドレスでアクセス

## S3バケットの設定

### 1. S3バケットの作成

AWS S3でパブリックリードアクセス可能なバケットを作成してください。

### 2. CORS設定

バケットに以下のCORS設定を適用してください：

```json
[
  {
    "AllowedHeaders": ["*"],
    "AllowedMethods": ["GET", "PUT", "POST", "DELETE"],
    "AllowedOrigins": ["*"],
    "ExposeHeaders": []
  }
]
```

### 3. バケットポリシー

パブリックリードアクセスを許可するポリシーを設定：

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "PublicReadGetObject",
      "Effect": "Allow",
      "Principal": "*",
      "Action": ["s3:GetObject", "s3:PutObject"],
      "Resource": "arn:aws:s3:::YOUR-BUCKET-NAME/*"
    }
  ]
}
```

## アプリの使用方法

### 1. 基本的な流れ

1. **バケット名の入力**: S3バケット名を指定
2. **プロジェクトIDの設定**: プロジェクト識別用のID
3. **撮影**: カメラでフレームを撮影
4. **同期**: S3への自動アップロード

### 2. 主な機能

- **撮影**: フレーム単位での写真撮影
- **同期**: S3バケットとの同期
- **ダウンロード**: フレームの個別ダウンロード
- **上書き**: 既存フレームの再撮影

### 3. モバイル最適化

- タッチ操作対応
- 縦画面・横画面対応
- PWA対応（オフライン機能）

## トラブルシューティング

### よくある問題

1. **同期エラー**

   - インターネット接続を確認
   - S3バケットのCORS設定を確認
   - バケット名とプロジェクトIDが正しいか確認

2. **カメラアクセスエラー**

   - ブラウザのカメラ許可設定を確認
   - HTTPS接続が必要（モバイルデバイス）

3. **画像が表示されない**
   - S3バケットのパブリックアクセス設定を確認
   - ネットワーク接続を確認
